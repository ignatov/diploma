\section{Загрузчики типов в языке Extensible Kotlin}
\subsection{Язык Kotlin}
В последние годы назрела потребность в новом языке, компилируемом в переносимый байт-код для виртуальной машины Java.
В результате появилось несколько проектов по созданию таких языков, один из которых~--- Kotlin,
% \footnote{Информация о языке доступна по адресу \url{http://jetbrains.com/kotlin}.}
статически типизированный объектно-ориентированный язык, совместимый с Java и предназначенный для промышленной разработки приложений.

При создании языка учитывались некоторые важные требования: % TODO: перечитать и удалить лишнее.
\begin{description}
	\item[Совместимость с Java.] Платформа Java~--- это прежде всего экосистема: кроме «официальных» продуктов компании Oracle, в нее входит множество проектов с открытым кодом: библиотек и фреймворков разного профиля, на базе которых строится огромное количество приложений. Поэтому для языка, компилируемого для этой платформы, очень важна совместимость с существующим кодом, который написан на Java. При этом необходимо, чтобы существующие проекты могли переходить на новый язык постепенно, то есть не только код на Kotlin должен легко вызывать код на Java, но и наоборот.
	\item[Статические гарантии корректности.] Во время компиляции кода на статически типизированном языке происходит множество проверок, призванных гарантировать, что те или иные ошибки не произойдут во время выполнения. Например, компилятор Java гарантирует, что объекты, на которых вызываются те или иные методы, «умеют» их выполнять, то есть что в соответствующих классах эти методы реализованы. К сожалению, кроме этого очень важного свойства, Java почти ничего не гарантирует. Это означает, что успешно скомпилированные программы завершаются с ошибками времени выполнения (вызывают исключительные ситуации). Ярким примером является разыменование нулевой ссылки, при котором во время выполнения вызывается исключение типа NullPointerException. Важным требованием к новому языку является усиление статических гарантий. Это позволит обнаруживать больше ошибок на этапе компиляции и, таким образом, сокращать затраты на тестирование.
	\item[Скорость компиляции.] Статические проверки упрощают программирование, но замедляют компиляцию, и здесь необходимо добиться определенного баланса. Опыт создания языков с мощной системой типов (наиболее ярким примером является Scala) показывает, что такой баланс найти непросто: компиляция зачастую становится неприемлемо долгой. Вообще, такая характеристика языка, как время компиляции проекта, может показаться второстепенной, однако в условиях промышленной разработки, когда объемы компилируемого кода очень велики, оказывается, что этот фактор весьма важен — ведь пока код компилируется, программист зачастую не может продолжать работу. В частности, быстрая компиляция является одним из важных преимуществ Java по сравнению с C++, и Kotlin должен это преимущество сохранить.
	\item[Лаконичность.] Известно, что программисты зачастую тратят больше времени на чтение кода, чем на его написание, поэтому важно, чтобы конструкции, доступные в языке программирования, позволяли писать программы кратко и понятно. Java считается многословным языком (ceremony language~--- <<церемонный язык>>), и задача Kotlin~--- улучшить ситуацию в этом смысле. К сожалению, строгие методы оценивания языков с точки зрения их лаконичности развиты довольно слабо, но есть косвенные критерии; один из них~--- возможность создания библиотек, работа с которыми близка к использованию предметно-ориентированных языков (Domain-Specific Language, DSL). Для создания таких библиотек необходима определенная гибкость синтаксиса в совокупности с конструкциями высших порядков; наиболее распространены функции высших порядков, то есть функции, принимающие другие функции в качестве параметров.
	\item[Доступность для изучения.] Сложные статические проверки, гибкий синтаксис и конструкции высших порядков усложняют язык и затрудняют его изучение, поэтому необходимо в известной степени ограничивать набор поддерживаемых возможностей, чтобы язык был доступен для изучения. При разработке Kotlin учитывался опыт Scala и других современных языков, и слишком сложные концепции в язык не включались.
	\item[Инструментальная поддержка.] Современные программисты активно используют различные автоматизированные инструменты, центральное место среди которых занимают интегрированные среды разработки (Integrated Development Environment, IDE). Десятилетний опыт, накопленный в компании JetBrains, показывает, что определенные свойства языка могут существенно затруднять инструментальную поддержку. При разработке Kotlin учитывается этот факт и IDE создается одновременно с компилятором.
\end{description}

\subsection{Цель и задачи}

В современных программах зачастую возникает необходимость получать данные из различных источников.
По мере усложнения приложения могут потребоваться статические проверки при доступе к этим данным.

Другими словами, возникает необходимость представления информации из внешних источников в виде типов, свойств и методов языка программирования.
Написание этих типов руками отнимает большое количество времени, сил, также возникают сложности в поддержки сопутствующего кода.
Стандартное решение в данной ситуации~--- использование кодогенераторов, которые добавляют необходимые файлы в проект.

Загрузчики типов являются альтернативой стандартным решениям и позволяют расширять систему типов языков без написания (или генерации) дополнительного кода.
Что положительным образом влияет как на скорость разработки программного обеспечения, так и на стоимость поддержки проекта.

В данной работе предлагается расширение языка Kotlin~--- Extensible Kotlin, которое позволяет создавать такие загрузчики.

\input{chapter2/architecture}
\input{chapter2/xml}
\input{chapter2/c}