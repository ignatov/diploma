\subsection{Архитектура компилятора Extensible Kotlin}
Компилятор Extensible Kotlin построен на основе компилятора Kotlin.

Рассмотрим стандартные шаги компиляции:
\begin{itemize}
\item[---] Лексический разбор;
\item[---] Грамматический разбор;
\item[---] Построение внутреннего представления программы;
\item[---] Статический анализ; \td
\item[---] Генерация байт-кода (при успешном завершении проверок из предыдущего пункта);
\end{itemize}

Сущетсвенным отличием компилятора Extensible Kotlin от компилятора Kotlin является дополнительная фаза компиляции трансформации внутреннего представления программы  и последующие статические проверки. То есть шаги компиляции программы с помощью компилятора Extensible Kotlin выглядят следующим образом:
\begin{itemize}
\item[---] Лексический разбор;
\item[---] Грамматический разбор;
\item[---] Построение внутреннего предствления программы;
\item[---] Статический анализ; \td
\item[---] Трансформация внутренного предствления программы (при успешном завершении проверок из предыдущего пункта);
\item[---] Статический анализ вновь полученных структур; \td
\item[---] Генерация байт-кода (при успешном завершении проверок из предыдущего пункта);
\end{itemize}

\subsubsection{Расширяемые компиляторы в других языках} % TODO: нужно подробнее
Ряд современных языков программирования поддерживает компиляцию в несколько отдельных фаз.
В основном, такие языки являются расширениями уже существующих языков: MetaOCaml, MetaMl, 'C, но есть и самостоятельные, как например, Scala. \td

% 'C     - http://pdos.csail.mit.edu/~engler/pldi96-abstract.html
% MetaML - esop99.pdf, 				An Idealized MetaML: Simpler, and More Expressive
% Scala  - compiler-phases-sid.pdf, Scala Compiler Phase and Plug-In Initialization for Scala 2.8

Компиляторы таких языков позволяют управлять ходом компиляции программы с помощью специальных пользовательских расширений (Compiler Plugins \td). Стоит отметить, что на сегодняшний день в компиляторе языка Scala существует 21 фаза компиляции и поведение каждой из них можно изменить.

% По аналогичному принципу построена работа компилятора языка Extensible Kotlin.